import{c as j,b as g,h as T,g as S,d as V,f as W}from"./@babel-pBanenlM.js";import{c as p}from"./classnames-C9FZUsQl.js";import{K as D,B as z,A as F,q as G,b as J}from"./rc-util-B_AY2VOg.js";import{a as i}from"./react-DHBI0EtI.js";import{C as Q}from"./rc-motion-BXl1Ur-d.js";var q=i.forwardRef(function(e,n){var a=e.prefixCls,t=e.forceRender,v=e.className,f=e.style,y=e.children,r=e.isActive,k=e.role,l=i.useState(r||t),d=j(l,2),o=d[0],m=d[1];return i.useEffect(function(){(t||r)&&m(!0)},[t,r]),o?i.createElement("div",{ref:n,className:p("".concat(a,"-content"),g(g({},"".concat(a,"-content-active"),r),"".concat(a,"-content-inactive"),!r),v),style:f,role:k},i.createElement("div",{className:"".concat(a,"-content-box")},y)):null});q.displayName="PanelContent";var U=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],B=i.forwardRef(function(e,n){var a=e.showArrow,t=a===void 0?!0:a,v=e.headerClass,f=e.isActive,y=e.onItemClick,r=e.forceRender,k=e.className,l=e.prefixCls,d=e.collapsible,o=e.accordion,m=e.panelKey,s=e.extra,E=e.header,C=e.expandIcon,I=e.openMotion,h=e.destroyInactivePanel,b=e.children,A=T(e,U),c=d==="disabled",P=d==="header",x=d==="icon",w=s!=null&&typeof s!="boolean",u=function(){y==null||y(m)},N=function(M){(M.key==="Enter"||M.keyCode===D.ENTER||M.which===D.ENTER)&&u()},K=typeof C=="function"?C(e):i.createElement("i",{className:"arrow"});K&&(K=i.createElement("div",{className:"".concat(l,"-expand-icon"),onClick:["header","icon"].includes(d)?u:void 0},K));var O=p(g(g(g({},"".concat(l,"-item"),!0),"".concat(l,"-item-active"),f),"".concat(l,"-item-disabled"),c),k),$=p(v,g(g(g({},"".concat(l,"-header"),!0),"".concat(l,"-header-collapsible-only"),P),"".concat(l,"-icon-collapsible-only"),x)),R={className:$,"aria-expanded":f,"aria-disabled":c,onKeyDown:N};return!P&&!x&&(R.onClick=u,R.role=o?"tab":"button",R.tabIndex=c?-1:0),i.createElement("div",S({},A,{ref:n,className:O}),i.createElement("div",R,t&&K,i.createElement("span",{className:"".concat(l,"-header-text"),onClick:d==="header"?u:void 0},E),w&&i.createElement("div",{className:"".concat(l,"-extra")},s)),i.createElement(Q,S({visible:f,leavedClassName:"".concat(l,"-content-hidden")},I,{forceRender:r,removeOnLeave:h}),function(_,M){var H=_.className,L=_.style;return i.createElement(q,{ref:M,prefixCls:l,className:H,style:L,isActive:f,forceRender:r,role:o?"tabpanel":void 0},b)}))}),X=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Y=function(n,a){var t=a.prefixCls,v=a.accordion,f=a.collapsible,y=a.destroyInactivePanel,r=a.onItemClick,k=a.activeKey,l=a.openMotion,d=a.expandIcon;return n.map(function(o,m){var s=o.children,E=o.label,C=o.key,I=o.collapsible,h=o.onItemClick,b=o.destroyInactivePanel,A=T(o,X),c=String(C??m),P=I??f,x=b??y,w=function(K){P!=="disabled"&&(r(K),h==null||h(K))},u=!1;return v?u=k[0]===c:u=k.indexOf(c)>-1,i.createElement(B,S({},A,{prefixCls:t,key:c,panelKey:c,isActive:u,accordion:v,openMotion:l,expandIcon:d,header:E,collapsible:P,onItemClick:w,destroyInactivePanel:x}),s)})},Z=function(n,a,t){if(!n)return null;var v=t.prefixCls,f=t.accordion,y=t.collapsible,r=t.destroyInactivePanel,k=t.onItemClick,l=t.activeKey,d=t.openMotion,o=t.expandIcon,m=n.key||String(a),s=n.props,E=s.header,C=s.headerClass,I=s.destroyInactivePanel,h=s.collapsible,b=s.onItemClick,A=!1;f?A=l[0]===m:A=l.indexOf(m)>-1;var c=h??y,P=function(u){c!=="disabled"&&(k(u),b==null||b(u))},x={key:m,panelKey:m,header:E,headerClass:C,isActive:A,prefixCls:v,destroyInactivePanel:I??r,openMotion:d,accordion:f,children:n.props.children,onItemClick:P,expandIcon:o,collapsible:c};return typeof n.type=="string"?n:(Object.keys(x).forEach(function(w){typeof x[w]>"u"&&delete x[w]}),i.cloneElement(n,x))};function ee(e,n,a){return Array.isArray(e)?Y(e,a):z(n).map(function(t,v){return Z(t,v,a)})}function ae(e){var n=e;if(!Array.isArray(n)){var a=V(n);n=a==="number"||a==="string"?[n]:[]}return n.map(function(t){return String(t)})}var ne=i.forwardRef(function(e,n){var a=e.prefixCls,t=a===void 0?"rc-collapse":a,v=e.destroyInactivePanel,f=v===void 0?!1:v,y=e.style,r=e.accordion,k=e.className,l=e.children,d=e.collapsible,o=e.openMotion,m=e.expandIcon,s=e.activeKey,E=e.defaultActiveKey,C=e.onChange,I=e.items,h=p(t,k),b=F([],{value:s,onChange:function(N){return C==null?void 0:C(N)},defaultValue:E,postState:ae}),A=j(b,2),c=A[0],P=A[1],x=function(N){return P(function(){if(r)return c[0]===N?[]:[N];var K=c.indexOf(N),O=K>-1;return O?c.filter(function($){return $!==N}):[].concat(W(c),[N])})};J(!l,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=ee(I,l,{prefixCls:t,accordion:r,openMotion:o,expandIcon:m,collapsible:d,destroyInactivePanel:f,onItemClick:x,activeKey:c});return i.createElement("div",S({ref:n,className:h,style:y,role:r?"tablist":void 0},G(e,{aria:!0,data:!0})),w)});const te=Object.assign(ne,{Panel:B});te.Panel;export{te as C};
